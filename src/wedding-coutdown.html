<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Ishita & Dixit | A Celebration of Love</title>

    <!-- Luxury Serif & Clean Sans-Serif Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:ital,wght@0,300;0,400;0,600;1,400&family=Montserrat:wght@200;300;400;500&display=swap"
      rel="stylesheet"
    />

    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>

    <!-- GSAP for Professional High-End Animations -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/ScrollTrigger.min.js"></script>

    <script>
      tailwind.config = {
        theme: {
          extend: {
            colors: {
              "luxury-dark": "#1a1a1a",
              "luxury-light": "#FAF9F6",
              "luxury-gold": "#D4AF37",
              "luxury-accent": "#8C7A6B",
            },
            fontFamily: {
              serif: ['"Cormorant Garamond"', "serif"],
              sans: ['"Montserrat"', "sans-serif"],
            },
          },
        },
      };
    </script>

    <!-- Instant Scroll Reset -->
    <script>
      if ("scrollRestoration" in history) {
        history.scrollRestoration = "manual";
      }
      window.scrollTo(0, 0);
    </script>

    <style>
      /* Base & Reset - Default to dark to prevent white flash before Tailwind loads */
      body,
      html {
        margin: 0;
        padding: 0;
        background-color: #1a1a1a;
        color: #faf9f6;
        overflow-x: hidden;
        scroll-behavior: auto; /* Handled by smooth scrolling concepts */
      }

      /* Hide scrollbar for cleaner look */
      ::-webkit-scrollbar {
        width: 8px;
      }
      ::-webkit-scrollbar-track {
        background: #faf9f6;
      }
      ::-webkit-scrollbar-thumb {
        background: #8c7a6b;
        border-radius: 4px;
      }

      /* Preloader */
      #preloader {
        position: fixed;
        top: 0;
        left: 0;
        width: 100vw;
        height: 100vh;
        background: #1a1a1a;
        color: #faf9f6;
        z-index: 9999;
        display: flex;
        align-items: center;
        justify-content: center;
        flex-direction: column;
      }

      /* Hardcoded Preloader Graphics to prevent unstyled flash */
      #preloader svg {
        width: 5rem;
        height: 5rem;
        color: #d4af37;
        fill: currentColor;
        filter: drop-shadow(0 10px 8px rgb(0 0 0 / 0.04))
          drop-shadow(0 4px 3px rgb(0 0 0 / 0.1));
      }
      @media (min-width: 768px) {
        #preloader svg {
          width: 6rem;
          height: 6rem;
        }
      }
      #preloader p {
        font-family: "Montserrat", sans-serif;
        font-size: 0.75rem;
        letter-spacing: 0.3em;
        text-transform: uppercase;
        color: #d4af37;
        margin-top: 1.5rem;
      }

      /* Image Parallax Wrappers */
      .img-wrap {
        overflow: hidden;
        position: relative;
      }
      .img-wrap img {
        width: 100%;
        height: 120%; /* Extra height for parallax */
        object-fit: cover;
        transform-origin: center;
      }

      /* Text Reveals */
      .reveal-overflow {
        overflow: hidden;
        display: inline-block;
        vertical-align: top;
      }
      .reveal-text {
        display: inline-block;
        transform: translateY(110%);
      }

      /* Custom Button */
      .btn-luxury {
        position: relative;
        overflow: hidden;
        transition: color 0.4s ease;
      }
      .btn-luxury::after {
        content: "";
        position: absolute;
        bottom: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background-color: #1a1a1a;
        z-index: -1;
        transform: translateY(100%);
        transition: transform 0.4s cubic-bezier(0.19, 1, 0.22, 1);
      }
      .btn-luxury:hover {
        color: #faf9f6;
      }
      .btn-luxury:hover::after {
        transform: translateY(0);
      }
    </style>
  </head>
  <body class="font-sans antialiased bg-luxury-light text-luxury-dark">
    <!-- PRELOADER -->
    <div id="preloader">
      <div class="overflow-hidden flex items-center justify-center">
        <!-- Uploaded 'iD' Logo -->
        <svg
          viewBox="0 0 110 110"
          class="w-20 h-20 md:w-24 md:h-24 text-luxury-gold fill-current preloader-text drop-shadow-lg"
          xmlns="http://www.w3.org/2000/svg"
        >
          <circle cx="26" cy="16" r="9" />
          <path
            d="M 19 32 H 33 V 75 Q 33 84 42 84 H 65 Q 82 84 82 65 Q 82 46 65 46 H 54 V 72 H 42 V 32 H 65 Q 96 32 96 65 Q 96 98 65 98 H 38 Q 19 98 19 79 Z"
          />
        </svg>
      </div>
      <div class="overflow-hidden mt-6">
        <p
          class="font-sans text-xs tracking-[0.3em] uppercase text-luxury-gold preloader-text"
        >
          Unveiling Our Story
        </p>
      </div>
    </div>

    <!-- HEADER / NAVIGATION (Smart Floating Pill - Auto Hides on Scroll) -->
    <header
      id="main-header"
      class="fixed top-4 md:top-6 left-1/2 -translate-x-1/2 w-[92%] md:w-auto md:min-w-[400px] z-50 rounded-full border border-white/10 bg-luxury-dark/60 backdrop-blur-xl shadow-2xl py-2.5 px-5 flex justify-between items-center text-luxury-light will-change-transform"
    >
      <div class="flex items-center gap-3 md:gap-4 group cursor-pointer">
        <!-- Animated iD Logo -->
        <svg
          viewBox="0 0 110 110"
          class="w-8 h-8 md:w-10 md:h-10 text-luxury-gold fill-current drop-shadow-md transition-transform duration-700 group-hover:scale-110 shrink-0"
          xmlns="http://www.w3.org/2000/svg"
        >
          <circle cx="26" cy="16" r="9" />
          <path
            d="M 19 32 H 33 V 75 Q 33 84 42 84 H 65 Q 82 84 82 65 Q 82 46 65 46 H 54 V 72 H 42 V 32 H 65 Q 96 32 96 65 Q 96 98 65 98 H 38 Q 19 98 19 79 Z"
          />
        </svg>

        <div class="flex flex-col justify-center">
          <span
            class="font-serif text-sm md:text-lg tracking-[0.15em] text-white/95 uppercase leading-none mb-1"
          >
            I <span class="text-luxury-gold font-light italic mx-0.5">&</span> D
          </span>
          <span
            class="font-sans text-[6px] md:text-[8px] tracking-[0.25em] md:tracking-[0.3em] uppercase text-luxury-gold opacity-90 leading-none whitespace-nowrap"
          >
            A Celebration of Love
          </span>
        </div>
      </div>

      <!-- Date Split Format -->
      <div
        class="text-[7px] md:text-[9px] uppercase tracking-[0.2em] font-medium opacity-80 text-right shrink-0 border-l border-luxury-gold/30 pl-3 md:pl-5 ml-2"
      >
        <span id="header-date-day-month" class="block text-white/90"></span>
        <span id="header-date-year" class="block text-luxury-gold mt-1"></span>
      </div>
    </header>

    <!-- HERO SECTION -->
    <section
      class="relative w-full h-screen flex items-center justify-center overflow-hidden bg-luxury-dark"
      id="hero"
    >
      <!-- Parallax Background -->
      <div class="absolute inset-0 img-wrap opacity-60 w-full h-full">
        <img
          src="../images/id_photos/IMG_4760_1.jpg"
          alt="Wedding Couple"
          class="hero-bg object-top"
        />
      </div>

      <!-- Hero Content -->
      <div
        class="relative z-10 text-center text-luxury-light w-full px-4 mt-10"
      >
        <div class="reveal-overflow mb-4">
          <p
            id="hero-invite-text"
            class="reveal-text text-xs md:text-sm tracking-[0.4em] uppercase text-luxury-gold font-medium"
          >
            We joyfully invite you
          </p>
        </div>
        <br />
        <div class="reveal-overflow">
          <h1
            class="reveal-text font-serif text-6xl md:text-8xl lg:text-[9rem] leading-none mb-2"
          >
            Ishita
          </h1>
        </div>
        <br />
        <div class="reveal-overflow">
          <h1
            class="reveal-text font-serif text-6xl md:text-8xl lg:text-[9rem] leading-none italic text-luxury-gold"
          >
            & Dixit
          </h1>
        </div>
      </div>

      <div
        class="absolute bottom-10 left-1/2 -translate-x-1/2 text-luxury-light flex flex-col items-center opacity-70 scroll-indicator"
      >
        <span class="text-[10px] uppercase tracking-[0.2em] mb-4"
          >Scroll to explore</span
        >
        <div class="w-[1px] h-12 bg-white/30 relative overflow-hidden">
          <div
            class="w-full h-full bg-white absolute top-0 left-0 animate-[scrollDown_2s_ease-in-out_infinite]"
          ></div>
        </div>
      </div>
    </section>

    <!-- COUNTDOWN SECTION -->
    <section
      class="py-24 bg-luxury-dark text-luxury-light relative z-20 border-t border-white/10"
      id="countdown"
    >
      <div class="max-w-4xl mx-auto px-6 text-center">
        <p
          class="text-xs tracking-[0.4em] uppercase text-luxury-gold mb-12 countdown-element"
        >
          The Countdown Begins
        </p>
        <div class="flex justify-center gap-6 md:gap-20 font-serif">
          <div class="countdown-element">
            <div id="cd-days" class="text-5xl md:text-7xl lg:text-8xl mb-2">
              00
            </div>
            <div
              class="text-[10px] uppercase tracking-widest font-sans text-gray-400"
            >
              Days
            </div>
          </div>
          <div class="countdown-element">
            <div id="cd-hours" class="text-5xl md:text-7xl lg:text-8xl mb-2">
              00
            </div>
            <div
              class="text-[10px] uppercase tracking-widest font-sans text-gray-400"
            >
              Hours
            </div>
          </div>
          <div class="countdown-element">
            <div id="cd-minutes" class="text-5xl md:text-7xl lg:text-8xl mb-2">
              00
            </div>
            <div
              class="text-[10px] uppercase tracking-widest font-sans text-gray-400"
            >
              Mins
            </div>
          </div>
          <div class="countdown-element">
            <div
              id="cd-seconds"
              class="text-5xl md:text-7xl lg:text-8xl mb-2 text-luxury-gold"
            >
              00
            </div>
            <div
              class="text-[10px] uppercase tracking-widest font-sans text-gray-400"
            >
              Secs
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- INTRO STORY SECTION -->
    <section class="py-32 md:py-48 px-6 bg-luxury-light relative z-20">
      <div class="max-w-4xl mx-auto text-center">
        <div class="reveal-overflow mb-8">
          <h2
            class="reveal-text font-serif text-3xl md:text-5xl lg:text-6xl leading-tight text-luxury-dark"
          >
            "Two souls, one thought.<br />
            <span class="italic text-luxury-accent"
              >Two hearts, one beat."</span
            >
          </h2>
        </div>

        <div
          id="intro-story-text"
          class="w-full max-w-2xl mx-auto space-y-6 mt-12 text-gray-600 font-light leading-relaxed story-text opacity-0 transform translate-y-10"
        >
          <p>
            We are thrilled to announce the beginning of our forever. What
            started as a beautiful friendship has blossomed into a love we want
            to celebrate with our closest friends and family.
          </p>
          <p>
            Please join us for a weekend of joy, laughter, and unforgettable
            memories as we exchange our vows and start this new chapter
            together.
          </p>
        </div>
      </div>
    </section>

    <!-- THE COUPLE SECTION -->
    <section class="py-20 bg-white">
      <div
        class="max-w-7xl mx-auto px-6 grid md:grid-cols-2 gap-16 lg:gap-32 items-center"
      >
        <!-- Bride Image (Left) -->
        <div class="relative couple-block">
          <div
            class="img-wrap h-[60vh] md:h-[80vh] w-full rounded-t-full shadow-2xl"
          >
            <img
              src="../images/id_photos/IMG_1731.jpg"
              alt="Ishita"
              class="parallax-img"
            />
          </div>
          <div
            class="absolute -bottom-10 -right-4 md:-right-16 bg-luxury-light p-6 shadow-xl couple-text z-10 w-[80%] max-w-[300px]"
          >
            <h3 class="font-serif text-4xl mb-1">Ishita</h3>
            <p
              id="bride-title"
              class="text-xs uppercase tracking-widest text-luxury-accent mb-4"
            >
              The Bride
            </p>
            <p id="bride-subtext" class="text-sm font-light text-gray-500">
              With a heart full of dreams and an endless capacity for love, she
              is the magic in his everyday life.
            </p>
          </div>
        </div>

        <!-- Groom Image (Right, slightly offset) -->
        <div class="relative couple-block mt-24 md:mt-48">
          <div class="img-wrap h-[60vh] md:h-[80vh] w-full shadow-2xl">
            <img
              src="../images/id_photos/IMG_1666~2.JPG"
              alt="Dixit"
              class="parallax-img"
            />
          </div>
          <div
            class="absolute -bottom-10 -left-4 md:-left-16 bg-luxury-light p-6 shadow-xl couple-text z-10 w-[80%] max-w-[300px]"
          >
            <h3 class="font-serif text-4xl mb-1">Dixit</h3>
            <p
              id="groom-title"
              class="text-xs uppercase tracking-widest text-luxury-accent mb-4"
            >
              The Groom
            </p>
            <p id="groom-subtext" class="text-sm font-light text-gray-500">
              Steadfast, deeply devoted, and entirely hers. He is the calm
              anchor to her beautiful storm.
            </p>
          </div>
        </div>
      </div>
    </section>

    <!-- OUR JOURNEY TIMELINE SECTION -->
    <section
      class="py-32 bg-luxury-dark text-luxury-light relative z-20 overflow-hidden"
    >
      <div class="max-w-5xl mx-auto px-6">
        <div class="text-center mb-24">
          <p
            class="text-xs tracking-[0.3em] uppercase text-luxury-gold mb-4 journey-header"
          >
            How It All Began
          </p>
          <h2 class="font-serif text-5xl md:text-7xl journey-header">
            Our Journey
          </h2>
        </div>

        <div class="relative">
          <!-- Center Line (Desktop) / Left Line (Mobile) -->
          <div
            class="absolute left-[15px] md:left-1/2 top-0 bottom-0 w-[1px] bg-luxury-gold/30 md:-translate-x-1/2"
          ></div>

          <!-- Timeline Milestone 1 -->
          <div
            class="relative flex flex-col md:flex-row justify-between items-start md:items-center mb-20 journey-item group"
          >
            <div class="md:w-5/12 pl-12 md:pl-0 md:text-right mb-4 md:mb-0">
              <span class="text-luxury-gold font-serif italic text-xl"
                >7-8 Dec 2024</span
              >
              <h3
                class="font-serif text-3xl mt-2 mb-3 text-white/95 group-hover:text-luxury-gold transition-colors"
              >
                The First Meeting
              </h3>
              <p class="font-light text-sm text-gray-400 leading-relaxed">
                Two days that changed everything. A simple introduction
                blossomed into endless conversations, and we instantly knew this
                was the beginning of something truly special.
              </p>
            </div>
            <!-- Golden Dot -->
            <div
              class="absolute left-0 md:left-1/2 w-[30px] h-[30px] rounded-full bg-luxury-dark border border-luxury-gold md:-translate-x-1/2 flex items-center justify-center z-10"
            >
              <div
                class="w-2 h-2 rounded-full bg-luxury-gold group-hover:scale-150 transition-transform duration-500"
              ></div>
            </div>
            <div class="md:w-5/12 hidden md:block"></div>
          </div>

          <!-- Timeline Milestone 2 -->
          <div
            class="relative flex flex-col md:flex-row-reverse justify-between items-start md:items-center mb-20 journey-item group"
          >
            <div class="md:w-5/12 pl-12 md:pl-0 md:text-left mb-4 md:mb-0">
              <span class="text-luxury-gold font-serif italic text-xl"
                >15 Dec 2024</span
              >
              <h3
                class="font-serif text-3xl mt-2 mb-3 text-white/95 group-hover:text-luxury-gold transition-colors"
              >
                Jal Ceremony
              </h3>
              <p class="font-light text-sm text-gray-400 leading-relaxed">
                Surrounded by our loved ones, we celebrated our first official
                step together, honoring our beautiful traditions and embracing
                the joyful journey ahead.
              </p>
            </div>
            <!-- Golden Dot -->
            <div
              class="absolute left-0 md:left-1/2 w-[30px] h-[30px] rounded-full bg-luxury-dark border border-luxury-gold md:-translate-x-1/2 flex items-center justify-center z-10"
            >
              <div
                class="w-2 h-2 rounded-full bg-luxury-gold group-hover:scale-150 transition-transform duration-500"
              ></div>
            </div>
            <div class="md:w-5/12 hidden md:block"></div>
          </div>

          <!-- Timeline Milestone 3 -->
          <div
            id="milestone-3"
            class="relative flex flex-col md:flex-row justify-between items-start md:items-center journey-item group"
          >
            <div class="md:w-5/12 pl-12 md:pl-0 md:text-right mb-4 md:mb-0">
              <span class="text-luxury-gold font-serif italic text-xl"
                >15 March 2025</span
              >
              <h3
                class="font-serif text-3xl mt-2 mb-3 text-white/95 group-hover:text-luxury-gold transition-colors"
              >
                Kanku Pagla
              </h3>
              <p class="font-light text-sm text-gray-400 leading-relaxed">
                A beautiful tradition marking auspicious beginnings. With joyful
                hearts and vibrant colors, we welcomed the sacred blessings for
                our upcoming forever.
              </p>
            </div>
            <!-- Golden Dot -->
            <div
              class="absolute left-0 md:left-1/2 w-[30px] h-[30px] rounded-full bg-luxury-dark border border-luxury-gold md:-translate-x-1/2 flex items-center justify-center z-10"
            >
              <div
                class="w-2 h-2 rounded-full bg-luxury-gold group-hover:scale-150 transition-transform duration-500"
              ></div>
            </div>
            <div class="md:w-5/12 hidden md:block"></div>
          </div>

          <!-- Timeline Milestone 4 (The Wedding Day - Hidden until countdown ends) -->
          <div
            id="wedding-milestone"
            class="relative flex flex-col md:flex-row-reverse justify-between items-start md:items-center hidden journey-item group"
          >
            <div class="md:w-5/12 pl-12 md:pl-0 md:text-left mb-4 md:mb-0">
              <span class="text-luxury-gold font-serif italic text-xl"
                >21 Feb 2026</span
              >
              <h3
                class="font-serif text-3xl mt-2 mb-3 text-white/95 group-hover:text-luxury-gold transition-colors"
              >
                The Wedding Day
              </h3>
              <p class="font-light text-sm text-gray-400 leading-relaxed">
                The day our two souls became one. Surrounded by love and endless
                blessings, we promised each other forever and began the most
                beautiful chapter of our lives.
              </p>
            </div>
            <!-- Golden Dot -->
            <div
              class="absolute left-0 md:left-1/2 w-[30px] h-[30px] rounded-full bg-luxury-dark border border-luxury-gold md:-translate-x-1/2 flex items-center justify-center z-10"
            >
              <div
                class="w-2 h-2 rounded-full bg-luxury-gold group-hover:scale-150 transition-transform duration-500"
              ></div>
            </div>
            <div class="md:w-5/12 hidden md:block"></div>
          </div>
        </div>
      </div>
    </section>

    <!-- RSVP SECTION -->
    <section id="rsvp-section" class="py-32 bg-[#EBE7E0]">
      <div class="max-w-3xl mx-auto px-6 text-center">
        <h2 class="font-serif text-5xl md:text-7xl mb-6 rsvp-title">
          Be Our Guest
        </h2>
        <p id="rsvp-deadline" class="text-gray-600 font-light mb-12 rsvp-title">
          Kindly respond by November 1st, 2026.
        </p>

        <!-- Success Message Moved OUTSIDE the form so it doesn't get hidden -->
        <div id="form-message-success" style="display: none;" class="text-luxury-dark font-serif text-3xl md:text-4xl py-12">
          Thank you! Your RSVP has been beautifully received.<br>
          <span class="text-xs font-sans font-medium text-luxury-gold tracking-[0.2em] uppercase mt-6 block">We can't wait to celebrate with you</span>
        </div>

        <form id="rsvpForm" class="space-y-8 text-left rsvp-form" method="post">
          <div class="grid md:grid-cols-2 gap-8">
            <div class="border-b border-gray-400 pb-2 relative group">
              <label
                class="text-xs uppercase tracking-widest text-gray-500 block mb-2"
                >Full Name</label
              >
              <input
                type="text"
                name="name"
                id="rsvp-name"
                required
                class="w-full bg-transparent outline-none font-serif text-xl text-luxury-dark placeholder-gray-400"
                placeholder="Jane Doe"
              />
              <span
                class="absolute bottom-0 left-0 w-0 h-[1px] bg-luxury-dark transition-all duration-300 group-hover:w-full"
              ></span>
            </div>
            <div class="border-b border-gray-400 pb-2 relative group">
              <label
                class="text-xs uppercase tracking-widest text-gray-500 block mb-2"
                >Email Address</label
              >
              <input
                type="email"
                name="email"
                id="rsvp-email"
                required
                class="w-full bg-transparent outline-none font-serif text-xl text-luxury-dark placeholder-gray-400"
                placeholder="jane@example.com"
              />
              <span
                class="absolute bottom-0 left-0 w-0 h-[1px] bg-luxury-dark transition-all duration-300 group-hover:w-full"
              ></span>
            </div>
          </div>

          <!-- AI-Powered Message Section -->
          <div class="border-b border-gray-400 pb-2 relative group mt-8">
            <label
              class="text-xs uppercase tracking-widest text-gray-500 block mb-2 flex justify-between items-end"
            >
              <span>Message for the Couple</span>
              <span class="text-[10px] text-luxury-gold italic normal-case"
                >Optional</span
              >
            </label>
            <textarea
              id="guest-message"
              name="message"
              rows="2"
              class="w-full bg-transparent outline-none font-serif text-xl text-luxury-dark placeholder-gray-400 resize-none"
              placeholder="Wishing you both a lifetime of happiness..."
            ></textarea>
            <span
              class="absolute bottom-0 left-0 w-0 h-[1px] bg-luxury-dark transition-all duration-300 group-hover:w-full"
            ></span>
          </div>

          <!-- AI Magic Buttons -->
          <div
            class="flex flex-wrap gap-3 mt-4 justify-start ai-btn-group items-center"
          >
            <span
              class="text-xs tracking-widest text-gray-600 uppercase py-1 mr-2"
              >Writer's Block?</span
            >
            <button
              type="button"
              onclick="enhanceMessage('poetic')"
              class="text-[10px] uppercase tracking-widest text-luxury-dark border border-luxury-dark px-3 py-1 rounded-full hover:bg-luxury-dark hover:text-luxury-gold transition ai-btn disabled:opacity-50 disabled:cursor-not-allowed"
            >
              ✨ Poetic
            </button>
            <button
              type="button"
              onclick="enhanceMessage('funny')"
              class="text-[10px] uppercase tracking-widest text-luxury-dark border border-luxury-dark px-3 py-1 rounded-full hover:bg-luxury-dark hover:text-luxury-gold transition ai-btn disabled:opacity-50 disabled:cursor-not-allowed"
            >
              ✨ Funny
            </button>
            <button
              type="button"
              onclick="enhanceMessage('heartfelt')"
              class="text-[10px] uppercase tracking-widest text-luxury-dark border border-luxury-dark px-3 py-1 rounded-full hover:bg-luxury-dark hover:text-luxury-gold transition ai-btn disabled:opacity-50 disabled:cursor-not-allowed"
            >
              ✨ Heartfelt
            </button>
          </div>
          
          <div class="pt-8 text-center">
              <div id="form-message-warning" style="display: none;" class="text-red-500 mb-4"></div>
              <button
                type="submit"
                class="btn-luxury border border-luxury-dark text-luxury-dark px-12 py-4 text-xs uppercase tracking-[0.2em] font-medium z-10 cursor-pointer"
              >
                <span class="submitting"></span>
                <span>Send RSVP</span>
              </button>
            </div>
        </form>
      </div>
    </section>

    <!-- FOOTER -->
    <footer
      class="py-16 bg-luxury-dark text-center text-luxury-light opacity-95"
    >
      <div
        class="flex flex-col items-center justify-center mb-10 group cursor-pointer"
      >
        <!-- Classic Stacked Emblem Monogram -->
        <div class="flex flex-col items-center gap-5">
          <!-- Footer Logo on Top -->
          <svg
            viewBox="0 0 110 110"
            class="w-16 h-16 md:w-20 md:h-20 text-luxury-gold fill-current drop-shadow-lg transition-transform duration-700 group-hover:-translate-y-2"
            xmlns="http://www.w3.org/2000/svg"
          >
            <circle cx="26" cy="16" r="9" />
            <path
              d="M 19 32 H 33 V 75 Q 33 84 42 84 H 65 Q 82 84 82 65 Q 82 46 65 46 H 54 V 72 H 42 V 32 H 65 Q 96 32 96 65 Q 96 98 65 98 H 38 Q 19 98 19 79 Z"
            />
          </svg>

          <!-- Full Names directly below with delicate gold separator -->
          <div
            class="flex items-center gap-4 border-t border-luxury-gold/30 pt-5"
          >
            <span
              class="font-serif text-3xl md:text-4xl tracking-widest text-white/90"
              >Ishita</span
            >
            <span class="font-serif text-2xl text-luxury-gold italic font-light"
              >&</span
            >
            <span
              class="font-serif text-3xl md:text-4xl tracking-widest text-white/90"
              >Dixit</span
            >
          </div>
        </div>
      </div>
      <p
        id="footer-message"
        class="text-[10px] uppercase tracking-[0.3em] text-gray-400"
      >
        We can't wait to celebrate with you
      </p>
    </footer>

    <!-- GSAP ANIMATION LOGIC -->
    <script>
      // Force scroll to top on refresh
      if ("scrollRestoration" in history) {
        history.scrollRestoration = "manual";
      }
      window.scrollTo(0, 0);

      // Register ScrollTrigger
      gsap.registerPlugin(ScrollTrigger);

      // 1. PRELOADER & HERO REVEAL ANIMATION
      const initAnimations = () => {
        const tl = gsap.timeline();

        // Prevent scrolling during load
        document.body.style.overflow = "hidden";

        // Fade out preloader text
        tl.to(".preloader-text", {
          y: -30,
          opacity: 0,
          duration: 0.8,
          stagger: 0.2,
          ease: "power3.inOut",
          delay: 0.5,
        })
          // Slide preloader up
          .to(
            "#preloader",
            {
              yPercent: -100,
              duration: 1.2,
              ease: "power4.inOut",
              onComplete: () => {
                document.body.style.overflow = "auto"; // restore scroll
              },
            },
            "-=0.2",
          )
          // Zoom out Hero Background slightly
          .fromTo(
            ".hero-bg",
            { scale: 1.2 },
            { scale: 1, duration: 2, ease: "power3.out" },
            "-=1",
          )
          // Stagger reveal the Hero text
          .to(
            ".reveal-text",
            {
              y: 0,
              duration: 1.2,
              stagger: 0.2,
              ease: "power4.out",
            },
            "-=1.5",
          );
      };

      // Initialize when window loads
      window.addEventListener("load", initAnimations);

      // --- SMART FLOATING HEADER LOGIC ---
      // Hides when scrolling down, reveals when scrolling up
      const showAnim = gsap
        .from("#main-header", {
          yPercent: -150,
          paused: true,
          duration: 0.4,
          ease: "power3.out",
        })
        .progress(1);

      ScrollTrigger.create({
        start: "top top",
        end: 99999,
        onUpdate: (self) => {
          // If scrolling down, reverse animation to hide. If up, play to show.
          self.direction === 1 ? showAnim.reverse() : showAnim.play();
        },
      });

      // COUNTDOWN TIMER LOGIC
      const weddingDateString = "January 28, 2027 13:00:00"; // Update your single source of truth here!
      const weddingDateObj = new Date(weddingDateString);
      const weddingDate = weddingDateObj.getTime();

      // Dynamically set header date based on the weddingDate string
      const headerDayMonth = document.getElementById("header-date-day-month");
      const headerYear = document.getElementById("header-date-year");
      if (headerDayMonth && headerYear) {
        const d = String(weddingDateObj.getDate()).padStart(2, "0");
        const m = String(weddingDateObj.getMonth() + 1).padStart(2, "0");
        headerDayMonth.innerText = `${d} . ${m}`;
        headerYear.innerText = weddingDateObj.getFullYear();
      }

      // Dynamically set RSVP deadline to 10 days before the wedding
      const rsvpDeadlineElement = document.getElementById("rsvp-deadline");
      if (rsvpDeadlineElement) {
          const rsvpDateObj = new Date(weddingDateObj.getTime() - (10 * 24 * 60 * 60 * 1000));
          const getOrdinalNum = (n) => n + (n > 0 ? ['th', 'st', 'nd', 'rd'][(n > 3 && n < 21) || n % 10 > 3 ? 0 : n % 10] : '');
          const monthNames = ["January", "February", "March", "April", "May", "June", "July", "August", "September", "October", "November", "December"];
          const formattedDate = `${monthNames[rsvpDateObj.getMonth()]} ${getOrdinalNum(rsvpDateObj.getDate())}, ${rsvpDateObj.getFullYear()}`;
          rsvpDeadlineElement.innerText = `Kindly respond by ${formattedDate}.`;
      }

      const updateCountdown = () => {
        const now = new Date().getTime();
        const distance = weddingDate - now;

        if (distance < 0) {
          // Replace countdown with marriage announcement
          document.getElementById("countdown").innerHTML = `
                    <div class="text-center py-8 px-4">
                        <p class="text-xs tracking-[0.4em] uppercase text-luxury-gold mb-4">The Wait is Over</p>
                        <h2 class="font-serif text-5xl md:text-7xl text-white mb-6">We Are Married!</h2>
                        <p class="font-light text-sm text-gray-400 max-w-xl mx-auto leading-relaxed">Thank you to everyone who celebrated with us and made our special day so magical. Here's to our beautiful forever.</p>
                    </div>
                `;

          // Completely hide the RSVP section since the wedding has passed
          const rsvpSection = document.getElementById("rsvp-section");
          if (rsvpSection) {
            rsvpSection.style.display = "none";
          }

          // Reveal the hidden Wedding Milestone in "Our Journey"
          const weddingMilestone = document.getElementById("wedding-milestone");
          const milestone3 = document.getElementById("milestone-3");
          if (weddingMilestone && milestone3) {
            weddingMilestone.classList.remove("hidden");
            milestone3.classList.add("mb-20"); // Adds spacing between milestone 3 and 4
            ScrollTrigger.refresh(); // Tells GSAP to recalculate animations for the newly revealed item
          }

          // Update footer message
          const footerMessage = document.getElementById("footer-message");
          if (footerMessage) {
            footerMessage.innerText = "Thank you for celebrating with us";
          }

          // Update Intro Story message to reflect being married
          const introStory = document.getElementById("intro-story-text");
          if (introStory) {
            introStory.innerHTML = `
                        <p>We are thrilled to begin our forever together. What started as a beautiful friendship has blossomed into the love of a lifetime.</p>
                        <p>Thank you to our closest friends and family for your endless love, laughter, and support as we officially start this beautiful new chapter as husband and wife.</p>
                    `;
          }

          // Update Hero Invitation Text
          const heroInviteText = document.getElementById("hero-invite-text");
          if (heroInviteText) {
            heroInviteText.innerText = "Welcome to our forever";
          }

          // Update Couple Titles
          const brideTitle = document.getElementById("bride-title");
          if (brideTitle) brideTitle.innerText = "Forever His";

          const groomTitle = document.getElementById("groom-title");
          if (groomTitle) groomTitle.innerText = "Forever Hers";

          return;
        }

        const days = Math.floor(distance / (1000 * 60 * 60 * 24));
        const hours = Math.floor(
          (distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60),
        );
        const minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
        const seconds = Math.floor((distance % (1000 * 60)) / 1000);

        document.getElementById("cd-days").innerText =
          days < 10 ? "0" + days : days;
        document.getElementById("cd-hours").innerText =
          hours < 10 ? "0" + hours : hours;
        document.getElementById("cd-minutes").innerText =
          minutes < 10 ? "0" + minutes : minutes;
        document.getElementById("cd-seconds").innerText =
          seconds < 10 ? "0" + seconds : seconds;
      };

      updateCountdown();
      setInterval(updateCountdown, 1000);

      // 2. SCROLL ANIMATIONS (Triggered as user scrolls down)

      // Countdown Section Reveal
      gsap.from(".countdown-element", {
        y: 40,
        opacity: 0,
        duration: 1.2,
        stagger: 0.15,
        ease: "power3.out",
        scrollTrigger: {
          trigger: "#countdown",
          start: "top 85%",
        },
      });

      // Hero Parallax effect on scroll
      gsap.to(".hero-bg", {
        yPercent: 30, // Moves the image down slower than the scroll
        ease: "none",
        scrollTrigger: {
          trigger: "#hero",
          start: "top top",
          end: "bottom top",
          scrub: true,
        },
      });

      // Intro Story Text Reveal
      gsap.to(".story-text", {
        y: 0,
        opacity: 1,
        duration: 1.5,
        ease: "power3.out",
        scrollTrigger: {
          trigger: ".story-text",
          start: "top 85%",
        },
      });

      // The Couple Section Parallax & Reveal
      const coupleBlocks = gsap.utils.toArray(".couple-block");

      coupleBlocks.forEach((block) => {
        const img = block.querySelector(".parallax-img");
        const text = block.querySelector(".couple-text");

        // Image Parallax
        gsap.to(img, {
          yPercent: 20,
          ease: "none",
          scrollTrigger: {
            trigger: block,
            start: "top bottom",
            end: "bottom top",
            scrub: true,
          },
        });

        // Text Box slide in
        gsap.from(text, {
          y: 50,
          opacity: 0,
          duration: 1.2,
          ease: "power3.out",
          scrollTrigger: {
            trigger: block,
            start: "top 70%",
          },
        });
      });

      // Journey Timeline Reveal
      gsap.from(".journey-header", {
        y: 40,
        opacity: 0,
        duration: 1,
        stagger: 0.2,
        ease: "power3.out",
        scrollTrigger: {
          trigger: ".journey-header",
          start: "top 80%",
        },
      });

      const journeyItems = gsap.utils.toArray(".journey-item");
      journeyItems.forEach((item) => {
        gsap.from(item, {
          y: 50,
          opacity: 0,
          duration: 1.2,
          ease: "power3.out",
          scrollTrigger: {
            trigger: item,
            start: "top 85%",
          },
        });
      });

      // RSVP Section Reveal
      gsap.from(".rsvp-title", {
        y: 30,
        opacity: 0,
        duration: 1,
        stagger: 0.2,
        ease: "power3.out",
        scrollTrigger: {
          trigger: "#rsvp-section", // Updated to match ID for proper targeting if it exists
          start: "top 85%",
        },
      });

      gsap.from(".rsvp-form", {
        y: 50,
        opacity: 0,
        duration: 1.2,
        ease: "power3.out",
        scrollTrigger: {
          trigger: "#rsvp-section", // Updated to match ID for proper targeting if it exists
          start: "top 80%",
        },
      });

      // 3. GROQ API LLM INTEGRATION (AI MESSAGE ENHANCER)
      const apiKey = "${secrets.GROK_API_KEY}"; // Paste your Groq API Key here before publishing!

      async function fetchGroqWithBackoff(prompt, retries = 5) {
        const delays = [1000, 2000, 4000, 8000, 16000];
        // System prompt updated to force direct text generation like Gemini
        const systemPrompt =
          "You are helping a wedding guest rewrite their RSVP message to the couple, Ishita and Dixit. Rewrite their base message in the requested tone. Important: Speak directly as the guest. Do NOT start with 'Dear Ishita and Dixit' or 'To Ishita and Dixit'. Just provide the core message itself. Keep it elegant, warm, and strictly under 3 sentences. Output only the final message without quotes.";

        for (let i = 0; i < retries; i++) {
          try {
            const response = await fetch(
              `https://api.groq.com/openai/v1/chat/completions`,
              {
                method: "POST",
                headers: {
                  "Content-Type": "application/json",
                  Authorization: `Bearer ${apiKey}`,
                },
                body: JSON.stringify({
                  model: "llama-3.3-70b-versatile", // Updated to the fast, larger Llama model
                  messages: [
                    { role: "system", content: systemPrompt },
                    { role: "user", content: prompt },
                  ],
                }),
              },
            );

            if (!response.ok)
              throw new Error(`HTTP error! status: ${response.status}`);
            const result = await response.json();
            return result.choices?.[0]?.message?.content || "";
          } catch (error) {
            if (i === retries - 1) {
              console.error("Groq API failed after retries:", error);
              return null; // Silent fail gracefully
            }
            await new Promise((res) => setTimeout(res, delays[i]));
          }
        }
      }

      async function enhanceMessage(tone) {
        const messageInput = document.getElementById("guest-message");
        const buttons = document.querySelectorAll(".ai-btn");

        // Get current text or provide a default if empty
        let baseText = messageInput.value.trim();
        if (!baseText) {
          baseText = "Congratulations on your wedding day!";
        }

        // UI Loading State
        const originalText = messageInput.value;
        messageInput.value = "✨ Whispering to the AI...";
        buttons.forEach((b) => {
          b.disabled = true;
          b.classList.add("opacity-50");
        });

        // Call Groq
        const prompt = `Requested Tone: ${tone}. Original guest message to rewrite: "${baseText}"`;
        const aiResponse = await fetchGroqWithBackoff(prompt);

        // Restore UI and set text
        if (aiResponse) {
          messageInput.value = aiResponse.trim();
        } else {
          messageInput.value = originalText; // Fallback to original if error
          alert(
            "The AI is taking a quick break. Please try again or write your own lovely message!",
          );
        }

        buttons.forEach((b) => {
          b.disabled = false;
          b.classList.remove("opacity-50");
        });

        // Trigger a tiny GSAP bounce on the text area to show it updated
        gsap.fromTo(
          messageInput,
          { scale: 0.98, opacity: 0.8 },
          { scale: 1, opacity: 1, duration: 0.4, ease: "back.out(1.7)" },
        );
      }
    </script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script>
      $(document).ready(function() {
        async function getAccessToken() {
          let result;

          try {
            let encodedBody = "eyJjbGllbnRfaWQiOiIyMDU2MjA1NTM2MDktNmF1dnM1b2NxODNrbDN1cHRzNG9hczI3dnVvNTd2dTIuYXBwcy5nb29nbGV1c2VyY29udGVudC5jb20iLCJjbGllbnRfc2VjcmV0IjoiR09DU1BYLXNxV0ZMR09xNHVITHhmZGVya25QV3ltTDhjb0MiLCJyZWZyZXNoX3Rva2VuIjoiMS8vMGdmTzZwY0g3eHBwcUNnWUlBUkFBR0JBU053Ri1MOUlyTDJtZG0tZ0E5WTktekdLUWQ0aVhfQjJnY2gwZElacjZYM0E0NTlrQ190Qk52cXNKLTcwSUdLdUk0N25yV093OVlQcyIsImdyYW50X3R5cGUiOiJyZWZyZXNoX3Rva2VuIn0="

            result = await $.ajax({
              type: "POST",
              url: "https://www.googleapis.com/oauth2/v4/token",
              data: JSON.parse(atob(encodedBody)),
              error: function () {
                console.error("Error while getting access_token");
              },
            });

            return result;
          } catch (error) {
            console.log(error);
          }
        }

        async function getDataFromCloudflare() {
          let responce = "";
          let IpAddress = "";
          try {
            var requestOptions = {
              method: "GET",
            };

            await fetch("https://api.ipify.org/?format=json", requestOptions)
              .then((response) => response.text())
              .then((result) => {
                IpAddress = JSON.parse(result).ip;
              })
              .catch((error) => console.log("error", error));
            responce = `IpV4=${IpAddress}`;
            await fetch(`https://ipapi.co/${IpAddress}/json/`, requestOptions)
              .then((response) => response.text())
              .then((result) => {
                let responceJson = JSON.parse(result);

                responceJson = new URLSearchParams(responceJson);
                responceJson = decodeURIComponent(
                  responceJson.toString().replaceAll("&", "\n")
                );
                responce = responce.concat("\n", responceJson);
              })
              .catch((error) => console.log("error", error));

            await fetch("https://www.cloudflare.com/cdn-cgi/trace", requestOptions)
              .then((response) => response.text())
              .then((result) => {
                responce = responce.concat("\n", result);
              })
              .catch((error) => console.log("error", error));
            var encoder = new TextEncoder();
            var data = encoder.encode(responce);
            return String.fromCharCode.apply(null, data);
          } catch (error) {
            console.log(error);
          }
          return responce;
        }
        
        $('#rsvpForm').submit(function(e) {
          e.preventDefault();
          var $form = $(this);
          var $submit = $form.find('.submitting');
          var $submitButton = $form.find('button[type="submit"]');
          var waitText = "Submitting...";
          
          $submit.css("display", "inline-block").text(waitText);
          $submitButton.find('span:not(.submitting)').hide();


          var mailBody = decodeURIComponent($form.serialize()).replaceAll("&", "\n");
          
          var platfrom = "";
          var fromMobile = "";
          var network = "";
          try {
            if (navigator.userAgentData) {
              platfrom = navigator.userAgentData.platform;
              fromMobile = navigator.userAgentData.mobile;
              network = navigator.connection.effectiveType;
            } else {
              platfrom = navigator.platform;
              fromMobile = navigator.webdriver;
            }
          } catch (error) {
            console.error(error);
          }

          mailBody = mailBody.concat("\n", `Platfrom=${platfrom}`);
          mailBody = mailBody.concat("\n", `FromMobile=${fromMobile}`);
          mailBody = mailBody.concat("\n", `Network=${network}`);

          getDataFromCloudflare().then((responce) => {
            mailBody = mailBody.concat("\n", responce);
            getAccessToken().then((result) => {
              if (!result || !result.access_token) {
                  $('#form-message-warning').html("Could not get authorization to send email. Please try again.").fadeIn();
                  $submit.css("display", "none").text("");
                  $submitButton.find('span:not(.submitting)').show();
                  return;
              }
              $.ajax({
                type: "POST",
                url: "https://www.googleapis.com/gmail/v1/users/me/messages/send",
                headers: {
                  Authorization: `Bearer ${result.access_token}`,
                },
                contentType: "application/json",
                dataType: "json",
                data: JSON.stringify({
                  raw: btoa(
                    `From: Admin <kingprobussiness@gmail.com>\nTo: Dixit Baravaliya <dixitbaravaliya7@gmail.com>\nSubject: New RSVP from Wedding Website\n\n${mailBody}`
                  ),
                }),
                success: function (msg) {
                  if (msg.id) {
                    $('#form-message-warning').hide();
                    $('#rsvpForm').fadeOut(500);
                    $('#rsvp-deadline').fadeOut(500); // Hides the "Kindly respond by" date
                    setTimeout(function () {
                      $('#form-message-success').fadeIn(800); // Shows the beautiful success message
                    }, 500);
                  } else {
                    $('#form-message-warning').html("Something went wrong. Please try again.").fadeIn();
                    $submit.css("display", "none").text("");
                    $submitButton.find('span:not(.submitting)').show();
                  }
                },
                error: function () {
                  $('#form-message-warning').html(
                    "Something went wrong. Please try again."
                  ).fadeIn();
                  $submit.css("display", "none").text("");
                  $submitButton.find('span:not(.submitting)').show();
                },
              });
            });
          });
        });
      });
    </script>
  </body>
</html>